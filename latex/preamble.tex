% LaTeX packages that we will need
\usepackage{imakeidx}
\makeindex[intoc=true,columnseprule=true,
           options= -s latex/indexstyles.ist]
\usepackage{amsthm}
\usepackage{xeCJK}
\usepackage[all]{nowidow}
\usepackage{fancyhdr}
\usepackage{menukeys}
\usepackage{amsmath}
\usepackage{color}
\usepackage{xcolor}
\usepackage{tcolorbox}
\usepackage{fontawesome5}
\usepackage{wrapfig}
% table packages
\usepackage{booktabs}
\usepackage{longtable,tabu}
\usepackage{makecell}
\usepackage{threeparttable}
\usepackage{colortbl}
\usepackage{float}
\usepackage{fontspec}
\usepackage[a4paper]{geometry}
\geometry{left=4cm, right=3cm, top=2.5cm, bottom=2.5cm}

\makeatletter
\def\thm@space@setup{%
  \thm@preskip=8pt plus 2pt minus 4pt
  \thm@postskip=\thm@preskip
}
\makeatother
\raggedbottom

% in case we need CJK fonts
\setCJKmonofont{SimSun}
\setCJKmainfont{SimSun}
\setCJKsansfont{SimSun}

% Float features
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

% don't float anything
\floatplacement{table}{H}
\floatplacement{figure}{H}

% helps reduce images from floating also
\renewcommand{\topfraction}{.85}
\renewcommand{\bottomfraction}{.7}
\renewcommand{\textfraction}{.15}
\renewcommand{\floatpagefraction}{.66}
\setcounter{topnumber}{3}
\setcounter{bottomnumber}{3}
\setcounter{totalnumber}{4}

% the warning, note, and tip color boxes
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

% colors that can be used
\definecolor{lightgray}{RGB}{215,215,215}
\definecolor{ultralightgray}{RGB}{241,241,241}
\definecolor{lightyellow}{RGB}{252,248,227}
\definecolor{lightpink}{RGB}{255,207,219}
\definecolor{lightblue}{RGB}{232,244,248}
\definecolor{mediumblue}{RGB}{28,77,93}

% Tip box
\newenvironment{tipsection}
    {
    \begin{tcolorbox}[colframe=lightgray,colback=lightyellow,arc=3mm]
    \faLightbulb[regular] \textbf{Tip} \newline
    }
    {
    \end{tcolorbox}
    }

% Note box
\newenvironment{notesection}
    {
    \begin{tcolorbox}[colframe=mediumblue,colback=lightblue,coltext=mediumblue,arc=3mm]
    \faLightbulb[regular] \textbf{Note} \newline
    }
    {
    \end{tcolorbox}
    }

% Warning box
\newenvironment{warningsection}
    {
    \begin{tcolorbox}[colframe=lightgray,colback=lightpink,arc=3mm]
    \faLightbulb[regular] \textbf{{Warning} } \newline
    }
    {
    \end{tcolorbox}
    }

% A light gray box for related program options (e.g., a radio button group, a combobox and its values, etc.).
\newenvironment{optionssection}
    {
    \begin{tcolorbox}[colframe=lightgray,colback=ultralightgray,sharp corners=all,parbox=false]
    }
    {
    \end{tcolorbox}
    }

% Title to add at the top of an optionssection.
\newenvironment{optionssectiontitle}
    {
    \begin{tcolorbox}[colframe=lightgray,colback=lightgray]
    \bfseries
    }
    {
    \end{tcolorbox}
    }

% Pagination
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
% prevents section from being split by a page break
% "nopagebreak" was already taken :)
\newenvironment{onsamepage}
    {
    \begin{minipage}{\textwidth}
    }
    {
    \end{minipage}
    }
